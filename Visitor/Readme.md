# Visitor (访问者模式)

访问者模式（Visitor Pattern）是GoF提出的23种设计模式中的一种，属于行为模式。
据《大话设计模式》中说算是最复杂也是最难以理解的一种模式了。

定义（源于GoF《Design Pattern》）：表示一个作用于某对象结构中的各元素的操作。
它使你可以在不改变各元素类的前提下定义作用于这些元素的新操作。

从定义可以看出结构对象是使用访问者模式必备条件，而且这个结构对象必须存在遍历自身各个对象的方法。
这便类似于Java语言当中的collection概念了。

我们在使用一些操作对不同的对象进行处理时，往往会根据不同的对象选择不同的处理方法和过程。
在实际的代码过程中，我们可以发现，如果让所有的操作分散到各个对象中，整个系统会变得难以维护和修改。且增加新的操作通常都要重新编译所有的类。
因此，为了解决这个问题，我们可以将每一个类中的相关操作提取出来，包装成一个独立的对象，这个对象我们就称为访问者（Visitor）。
利用访问者，对访问的元素进行某些操作时，只需将此对象作为参数传递给当前访问者，然后，访问者会依据被访问者的具体信息，进行相关的操作。